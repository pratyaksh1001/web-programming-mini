<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Home</title>
        <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    </head>
    <body class="bg-black w-screen text-white">
        <div id="navbar" class="w-full bg-blue-600 p-2 rounded-b-md flex">
            <a href="home.html" class="text-2xl w-fit">Keep It Up</a>
            <div class="ml-auto w-fit">
                <a href="tasklist.html" class="w-fit text-2xl">Task List</a>
            </div>
        </div>
        <div id="add-section" class="mt-32 bg-blue-600 w-1/2 ml-auto mr-auto">
            <p class="w-fit ml-auto mr-auto text-xl">Enter the task details</p>
            <input
                type="text"
                id="title"
                placeholder="   Enter the Task Title"
                class="w-fit bg-gray-50 text-black h-12"
            />
            <textarea
                placeholder="enter the content"
                class="bg-gray-50 text-black mt-10"
                id="content"
            ></textarea>
            <br />
            <label for="deadline">enter deadline</label>
            <input type="date" id="deadline" name="deadline" />
            <button class="" id="add-button">Add task</button>
        </div>
    </body>
    <script>
        var addButton = document.getElementById("add-button");

        var tasks = JSON.parse(localStorage.getItem("tasklist"));

        if (tasks == null) {
            tasks = [];
        }
        console.log(tasks);
        class Task {
            constructor(title, content, date, deadline) {
                this.title = title;
                this.content = content;
                this.date = date;
                this.done = false;
                this.deadline = deadline;
            }
        }

        addButton.addEventListener("click", () => {
            var title = document.getElementById("title").value;
            var content = document.getElementById("content").value;
            var deadline = document.getElementById("deadline").value;
            console.log(deadline);
            console.log(content);
            console.log(title);
            console.log(localStorage.getItem("hello"));
            var newTask = new Task(
                title,
                content,
                new Date().getFullYear(),
                deadline,
            );
            tasks.push(newTask);
            console.log(tasks);
            localStorage.setItem("tasklist", JSON.stringify(tasks));
        });
    </script>
</html>
